name: Release

on: push

jobs:
  release:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
    - uses: actions/github-script@v7
      id: my-script
      with:
        result-encoding: string
        retries: 3
        script: |
          const latestRelease = await github.rest.repos.getLatestRelease({
            owner: context.repo.owner,
            repo: context.repo.repo,
          });
          console.log(latestRelease)
          const latestTag = await github.rest.git.getTag({
            owner: context.repo.owner,
            repo: context.repo.repo,
            tag_sha: `refs/${latestRelease?.data?.tag_name}`,
          });
          console.log(latestTag)
          const latestTag2 = await github.rest.git.getTag({
            owner: context.repo.owner,
            repo: context.repo.repo,
            tag_sha: `tags/${latestRelease?.data?.tag_name}`,
          });
          console.log(latestTag2)
